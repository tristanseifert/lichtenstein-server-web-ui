<div class="grid-x tool-routine">
  <div class="cell small-12">
    <h1>Set Routine</h1>

    <form method="post">
      <div class="grid-container">
        <div class="grid-x grid-padding-x">
          <div class="small-12 cell">
            <label>Groups
              <select multiple name="group">
                {{#each groups}}
                  <option value="{{id}}">{{name}}</option>
                {{/each}}
              </select>
            </label>
          </div>
        </div>

        <div class="grid-x grid-padding-x">
          <div class="small-12 cell">
            <label>Routine
              <select name="routine" id="routine">
                {{#each routines}}
                  <option value="{{id}}">{{name}}</option>
                {{/each}}
              </select>
            </label>
          </div>
        </div>

        <div class="grid-x grid-padding-x">
          <div class="small-12 cell">
            <label>Parameters
              <table id="routineParams">
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </label>
          </div>
        </div>

        <div class="grid-x grid-padding-x">
          <div class="small-12 cell">
            <button type="submit" class="button">Submit</button>
          </div>
        </div>
      </div>

      <input type="hidden" name="params">


      <input type="hidden" name="_csrf" value="{{csrfToken}}">
    </form>
  </div>
</div>

{{!-- encode each routine's defaults --}}
<script>
window.routineDefaults = {{{defaults}}};
</script>
